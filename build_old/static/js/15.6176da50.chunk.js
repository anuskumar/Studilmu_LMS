webpackJsonp([15],{281:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),s=a.n(i),l=a(67),u=(a.n(l),a(12)),d=a(3),h=(a.n(d),a(66)),m=a(330),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=function(e){function t(e){r(this,t);var a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=h.a.getUser();return a.state={lognUser:n,schoolid:n.schoolid,lecturerow:[],isLoggedIn:!0,authors:[],courserow:[],ownerrows:[],categories:[],activeTab:"1",lecturename:"",lecturedesc:"",lecturesectionid:"",corseid:"",corsename:"",corsesubtitle:"",corsedesc:"",corsebioid:"",visible:!1,msg:"",rows:[],fullname:"",headline:"",bio:""},a.handleChange=a.handleChange.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.handlebioSubmit=a.handlebioSubmit.bind(a),a.handlelectureSubmit=a.handlelectureSubmit.bind(a),a.handleLoginClick=a.handleLoginClick.bind(a),a.handleLecture=a.handleLecture.bind(a),a.toggleSuccess=a.toggleSuccess.bind(a),a.toggleLecture=a.toggleLecture.bind(a),a.handleEditClick=a.handleEditClick.bind(a),a.toggle=a.toggle.bind(a),a.authors=a.authors.bind(a),a.courses=a.courses.bind(a),a.authors(),a.courses(),m.a.getOwners().then(function(e){console.log(e),e.students&&a.setState({ownerrows:e.students})},function(e){console.log(e)}),m.a.getCategory().then(function(e){e.category&&a.setState({categories:e.category})},function(e){console.log(e)}),a}return o(t,e),g(t,[{key:"courses",value:function(){var e=this;m.a.getCourses({schoolid:this.state.lognUser.schoolid}).then(function(t){1==t.ack&&(console.log(t.course),e.setState({courserow:t.course}))})}},{key:"authors",value:function(){var e=this;m.a.getAuthors({schoolid:this.state.lognUser.schoolid}).then(function(t){console.log(t),t.ack&&e.setState({authors:t.authors,fullname:"",headline:"",bio:""})})}},{key:"handleLecture",value:function(e){this.props.history.push("/course/lecture/"+e.id)}},{key:"handleChange",value:function(e){this.setState(n({},e.target.name,e.target.value))}},{key:"handlebioSubmit",value:function(e){var t=this;if(e.preventDefault(),!this.state.fullname)return this.showalert("Enter Firstname and Lastname"),1;console.log(this.state),m.a.addAuthors(this.state).then(function(e){console.log(e),e.ack&&(t.toggleSuccess(),t.authors())})}},{key:"handlelectureSubmit",value:function(e){var t=this;if(e.preventDefault(),console.log(this.state),!this.state.corsename)return void this.showalert("Enter Name");m.a.addLecture(this.state).then(function(e){console.log(e),e.ack&&(t.setState({lecturename:"",lecturedesc:"",lecturesectionid:""}),t.toggleLecture(),t.toggle("2"))})}},{key:"handleSubmit",value:function(e){var t=this;return e.preventDefault(),console.log(this.state),this.state.corsename?this.state.corsebioid?this.state.corsesubtitle?this.state.corsedesc?(console.log(this.state),void m.a.addcourse(this.state).then(function(e){console.log(e),e.ack?t.setState({corsename:"",corsebioid:"",corsesubtitle:"",corsedesc:"",activeTab:"2"}):t.showalert("Email Already Existed")})):void this.showalert("Enter Course Description"):void this.showalert("Enter Course Subtitle"):void this.showalert("Enter Author Information"):void this.showalert("Enter Course Name")}},{key:"showalert",value:function(e){setTimeout(function(){this.setState({visible:!1,msg:""})}.bind(this),3e3),this.setState({visible:!0,msg:e})}},{key:"toggleSuccess",value:function(){this.setState({success:!this.state.success})}},{key:"toggleLecture",value:function(){this.setState({modalLecture:!this.state.modalLecture})}},{key:"toggle",value:function(e){var t=this;this.state.activeTab!==e&&this.setState({activeTab:e}),2==e&&m.a.getLectures({courseid:this.state.corseid}).then(function(e){console.log(e),e.ack?t.setState({lecturerow:e.coursesection}):t.setState({lecturerow:[]})})}},{key:"handleEditClick",value:function(e){var t=this;1==this.state.isEdittogged?m.a.editcourse(this.state).then(function(e){console.log(e),1==e.ack&&(t.courses(),t.setState({isEdittogged:!1,name:"",id:""}))}):this.setState({isEdittogged:!0,name:e.name,id:e.id,description:e.description,category_id:e.category_id,user_id:e.user_id,code:e.code,price:e.price,time_limit:e.time_limit,certification:e.certification})}},{key:"handleLoginClick",value:function(e){console.log(e),1==this.state.isLoggedIn?this.setState({isLoggedIn:!1,corseid:e.id,corsename:e.coursename,corsesubtitle:e.subtitle,corsedesc:e.description,corsebioid:e.authorid}):this.setState({isLoggedIn:!0,activeTab:"1"})}},{key:"render",value:function(){var e=this,t=this.state.isEdittogged?s.a.createElement(u.N,null,s.a.createElement(u.p,{xs:"12",md:"",className:"mb-4"},s.a.createElement(u.O,{activeTab:this.state.activeTab},s.a.createElement(u.P,{tabId:"1"},s.a.createElement(u.i,null,s.a.createElement(u.n,null,s.a.createElement("strong",null,"Add Course")),s.a.createElement(u.j,null,s.a.createElement(u.v,{onSubmit:this.handleSubmit,method:"post",encType:"multipart/form-data",className:"form-horizontal"},s.a.createElement(u.w,{row:!0},s.a.createElement(u.p,{md:"3"},s.a.createElement(u.C,{htmlFor:"text-input"},"Owner Name:")),s.a.createElement(u.p,{xs:"12",md:"9"},s.a.createElement(u.y,{type:"select",name:"user_id",onChange:this.handleChange,value:this.state.user_id},s.a.createElement("option",{value:""},"Select Owner"),this.state.ownerrows.map(function(e,t){return s.a.createElement("option",{value:e.id,key:t},e.name)})))),s.a.createElement(u.w,{row:!0},s.a.createElement(u.p,{md:"3"},s.a.createElement(u.C,{htmlFor:"text-input"},"Category:")),s.a.createElement(u.p,{xs:"12",md:"9"},s.a.createElement(u.y,{type:"select",name:"category_id",onChange:this.handleChange,value:this.state.category_id},s.a.createElement("option",{value:""},"Select Category"),this.state.categories.map(function(e,t){return s.a.createElement("option",{value:e.id,key:t},e.name)})))),s.a.createElement(u.w,{row:!0},s.a.createElement(u.p,{md:"3"},s.a.createElement(u.C,{htmlFor:"text-input"},"Course name:")),s.a.createElement(u.p,{xs:"12",md:"9"},s.a.createElement(u.y,{type:"text",name:"name",value:this.state.name,onChange:this.handleChange,id:"text-input",placeholder:"e.g. 'Enter Course name.'"}))),s.a.createElement(u.w,{row:!0},s.a.createElement(u.p,{md:"3"},s.a.createElement(u.C,{htmlFor:"select"},"Description:")),s.a.createElement(u.p,{xs:"12",md:"9"},s.a.createElement(u.y,{type:"textarea",name:"description",value:this.state.description,onChange:this.handleChange,id:"textarea-input",rows:"9",placeholder:"Content..."}))),s.a.createElement(u.w,{row:!0},s.a.createElement(u.p,{md:"3"},s.a.createElement(u.C,{htmlFor:"text-input"},"Code:")),s.a.createElement(u.p,{xs:"12",md:"9"},s.a.createElement(u.y,{type:"text",name:"code",value:this.state.code,onChange:this.handleChange,id:"text-input",placeholder:"e.g. 'Enter Course code.'"}))),s.a.createElement(u.w,{row:!0},s.a.createElement(u.p,{md:"3"},s.a.createElement(u.C,{htmlFor:"text-input"},"Price:")),s.a.createElement(u.p,{xs:"12",md:"9"},s.a.createElement(u.y,{type:"text",name:"price",value:this.state.price,onChange:this.handleChange,id:"text-input",placeholder:"e.g. 'Enter Course price.'"}))),s.a.createElement(u.w,{row:!0},s.a.createElement(u.p,{md:"3"},s.a.createElement(u.C,{htmlFor:"text-input"},"Time limit:")),s.a.createElement(u.p,{xs:"12",md:"9"},s.a.createElement(u.y,{type:"text",name:"time_limit",value:this.state.time_limit,onChange:this.handleChange,id:"text-input",placeholder:"e.g. 'Enter course time limit.'"}))),s.a.createElement(u.w,{row:!0},s.a.createElement(u.p,{md:"3"},s.a.createElement(u.C,{htmlFor:"text-input"},"Certification:")),s.a.createElement(u.p,{xs:"12",md:"9"},s.a.createElement(u.y,{type:"text",name:"certification",value:this.state.certification,onChange:this.handleChange,id:"text-input",placeholder:"e.g. 'Enter course certification.'"}))),s.a.createElement(u.w,{row:!0},s.a.createElement(u.p,{md:"3"},s.a.createElement(u.C,{htmlFor:"select"},"Status")),s.a.createElement(u.p,{xs:"12",md:"9"},s.a.createElement(u.y,{type:"select",id:"is_active",name:"is_active",onChange:this.handleChange,value:this.state.is_active},s.a.createElement("option",{value:"",disabled:!0},"Please Select"),s.a.createElement("option",{value:"1"},"Active"),s.a.createElement("option",{value:"0"},"Inactive")))))),s.a.createElement(u.l,null,s.a.createElement(u.e,{type:"submit",size:"sm",color:"primary",onClick:this.handleEditClick},s.a.createElement("i",{className:"fa fa-dot-circle-o"})," Update"))))))):s.a.createElement(u.N,null,s.a.createElement(u.p,{xs:"12",md:"12"},s.a.createElement(u.i,null,s.a.createElement(u.n,null,s.a.createElement("i",{className:"fa fa-align-justify"}),s.a.createElement("strong",null,"Owners"),s.a.createElement("div",{className:"card-header-actions"},s.a.createElement("button",{"aria-pressed":"true",className:"btn btn-success btn-block active",onClick:this.toggleSuccess},"Add Owners"))),s.a.createElement(u.j,null,s.a.createElement(u.Q,{responsive:!0,striped:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Category"),s.a.createElement("th",null,"Code"),s.a.createElement("th",null,"Price"),s.a.createElement("th",null,"status"),s.a.createElement("th",null,"Action"))),s.a.createElement("tbody",null,this.state.courserow.map(function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.name),s.a.createElement("td",null,t.c_name),s.a.createElement("td",null,t.code),s.a.createElement("td",null,t.price),s.a.createElement("td",null,1==t.is_active?s.a.createElement(u.b,{color:"success"},"Active"):s.a.createElement(u.b,{color:"danger"},"Inactive")),s.a.createElement("td",null,s.a.createElement(u.e,{color:"primary",size:"sm",onClick:function(){return e.handleEditClick(t)}},s.a.createElement("i",{className:"fa fa-pencil"})),s.a.createElement(u.e,{color:"danger",size:"sm",onClick:function(){return e.handleDeleteClick(t.id)}},s.a.createElement("i",{className:"fa fa-trash-o"}))))})))))));return s.a.createElement("div",{className:"animated fadeIn"},t)}}]),t}(i.Component);t.default=f},330:function(e,t,a){"use strict";function n(e){return p.a.post(E+"/getCategory",e).then(function(e){return e.data}).catch(function(e){return e})}function r(e){return p.a.post(E+"/addCategory",e).then(function(e){return e.data}).catch(function(e){return e})}function c(e){return p.a.post(E+"/editCategory",e).then(function(e){return e.data}).catch(function(e){return e})}function o(e){return p.a.post(E+"/getOwners",{usertype:"C"}).then(function(e){return e.data}).catch(function(e){return e})}function n(e){return p.a.post(E+"/getCategory").then(function(e){return e.data}).catch(function(e){return e})}function i(e){return p.a.post(E+"/getAuthors",e).then(function(e){return e.data}).catch(function(e){return e})}function s(e){return p.a.post(E+"/addAuthors",e).then(function(e){return e.data}).catch(function(e){return e})}function l(e){return p.a.post(E+"/addcourse",e).then(function(e){return e.data}).catch(function(e){return e})}function u(e){return p.a.post(E+"/editcourse",e).then(function(e){return e.data}).catch(function(e){return e})}function d(e){return p.a.post(E+"/addLecture",e).then(function(e){return e.data}).catch(function(e){return e})}function h(e){return p.a.post(E+"/getCourses",e).then(function(e){return e.data}).catch(function(e){return e})}function m(e){return p.a.post(E+"/getLectures",e).then(function(e){return e.data}).catch(function(e){return e})}function g(e){return p.a.post(E+"/getLecturedetails",e).then(function(e){return e.data}).catch(function(e){return e})}var f=(a(114),a(26)),p=a.n(f),E="http://13.251.15.73:8080";t.a={getAuthors:i,addcourse:l,getCourses:h,addAuthors:s,getLectures:m,getLecturedetails:g,addLecture:d,getCategory:n,getOwners:o,addCategory:r,editCategory:c,editcourse:u}}});
//# sourceMappingURL=15.6176da50.chunk.js.map