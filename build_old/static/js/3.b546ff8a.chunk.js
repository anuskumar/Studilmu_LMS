webpackJsonp([3],{272:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(0),o=a.n(c),i=a(67),u=(a.n(i),a(12)),m=a(66),d=a(311),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=function(e){function t(e){s(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=m.a.getUser();return a.state={lognUser:n,firstname:"",lastname:"",usertype:3,email:"",password:"",repassword:"",visible:!1,msg:"",rows:[]},a.handleChange=a.handleChange.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.toggleSuccess=a.toggleSuccess.bind(a),a.getstudent=a.getstudent.bind(a),a.getstudent(),a}return l(t,e),h(t,[{key:"getstudent",value:function(){var e=this;d.a.getStudents({schoolid:this.state.lognUser.schoolid}).then(function(t){e.setState({rows:t.students,firstname:"",lastname:"",usertype:3,email:"",password:"",repassword:""})},function(e){console.log(e)})}},{key:"handleChange",value:function(e){this.setState(n({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;return e.preventDefault(),this.state.firstname&&this.state.lastname?this.state.email?this.state.password!=this.state.repassword?(this.showalert("Retype Password Not Matched"),1):this.state.password&&6!=this.state.password.length?(this.showalert("Password Must be Atleast Six Character"),1):(console.log(this.state),void d.a.register(this.state).then(function(e){console.log(e),e.ack?d.a.assignSchool({studentid:e.userId,schoolid:t.state.lognUser.schoolid}).then(function(e){console.log(e),t.toggleSuccess(),t.getstudent()}):t.showalert("Email Already Existed")})):(this.showalert("Enter Email Address"),1):(this.showalert("Enter Firstname and Lastname"),1)}},{key:"showalert",value:function(e){setTimeout(function(){this.setState({visible:!1,msg:""})}.bind(this),3e3),this.setState({visible:!0,msg:e})}},{key:"toggleSuccess",value:function(){this.setState({success:!this.state.success})}},{key:"render",value:function(){return o.a.createElement("div",{className:"animated fadeIn"},o.a.createElement(u.N,null,o.a.createElement(u.p,{xs:"12",md:"12"},o.a.createElement(u.i,null,o.a.createElement(u.n,null,o.a.createElement("i",{className:"fa fa-align-justify"}),o.a.createElement("strong",null,"Students"),o.a.createElement("div",{className:"card-header-actions"},o.a.createElement("button",{"aria-pressed":"true",className:"btn btn-success btn-block active",onClick:this.toggleSuccess},"Add Students"))),o.a.createElement(u.j,null,o.a.createElement(u.Q,{responsive:!0,striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Email"),o.a.createElement("th",null,"Last Login"),o.a.createElement("th",null,"Join Date"),o.a.createElement("th",null,"Purchases"),o.a.createElement("th",null,"Status"))),o.a.createElement("tbody",null,this.state.rows.map(function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.firstname+" "+e.lastname),o.a.createElement("td",null,e.email),o.a.createElement("td",null,e.joindate),o.a.createElement("td",null,e.joindate),o.a.createElement("td",null,"$ ",e.price),o.a.createElement("td",null,o.a.createElement(u.b,{color:"success"},"Active")))}))),o.a.createElement(u.F,{isOpen:this.state.success,toggle:this.toggleSuccess,className:"modal-success "+this.props.className},o.a.createElement(u.I,{toggle:this.toggleSuccess},"Add Students"),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement(u.G,null,o.a.createElement(u.a,{color:"danger",isOpen:this.state.visible},this.state.msg),o.a.createElement("p",{className:"text-muted"},"If no password is given, students will receive an email to confirm their account and set a password."),o.a.createElement(u.z,{className:"mb-3"},o.a.createElement(u.A,{addonType:"prepend"},o.a.createElement(u.B,null,o.a.createElement("i",{className:"icon-user"}))),o.a.createElement(u.y,{type:"text",placeholder:"Firstname",name:"firstname",value:this.state.firstname,onChange:this.handleChange})),o.a.createElement(u.z,{className:"mb-3"},o.a.createElement(u.A,{addonType:"prepend"},o.a.createElement(u.B,null,o.a.createElement("i",{className:"icon-user"}))),o.a.createElement(u.y,{type:"text",placeholder:"Lastname",name:"lastname",value:this.state.lastname,onChange:this.handleChange})),o.a.createElement(u.z,{className:"mb-3"},o.a.createElement(u.A,{addonType:"prepend"},o.a.createElement(u.B,null,"@")),o.a.createElement(u.y,{type:"text",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange})),o.a.createElement(u.z,{className:"mb-3"},o.a.createElement(u.A,{addonType:"prepend"},o.a.createElement(u.B,null,o.a.createElement("i",{className:"icon-lock"}))),o.a.createElement(u.y,{type:"password",placeholder:"Password (optional)",name:"password",value:this.state.password,onChange:this.handleChange})),o.a.createElement(u.z,{className:"mb-4"},o.a.createElement(u.A,{addonType:"prepend"},o.a.createElement(u.B,null,o.a.createElement("i",{className:"icon-lock"}))),o.a.createElement(u.y,{type:"password",placeholder:"Repeat password (optional)",name:"repassword",value:this.state.repassword,onChange:this.handleChange}))),o.a.createElement(u.H,null,o.a.createElement(u.e,{color:"success",type:"submit"},"Add")," ",o.a.createElement(u.e,{color:"secondary",onClick:this.toggleSuccess},"Cancel")))))))))}}]),t}(c.Component);t.default=p},311:function(e,t,a){"use strict";function n(e){return m.a.post(d+"/getStudents",e).then(function(e){return e.data}).catch(function(e){return e})}function s(e){return m.a.post(d+"/getOwners",e).then(function(e){return e.data}).catch(function(e){return e})}function r(e){return m.a.post(d+"/getUser",e).then(function(e){return e.data}).catch(function(e){return e})}function l(e){return m.a.post(d+"/register",e).then(function(e){return e.data}).catch(function(e){return e})}function c(e){return m.a.post(d+"/asigneSchool",e).then(function(e){return e.data}).catch(function(e){return e})}function o(e){return m.a.post(d+"/asigneSchoolowner",e).then(function(e){return e.data}).catch(function(e){return e})}function i(e){return m.a.post(d+"/addUser",e).then(function(e){return e.data}).catch(function(e){return e})}var u=(a(114),a(26)),m=a.n(u),d="http://13.251.15.73:8080";t.a={getStudents:n,register:l,assignSchool:c,getOwners:s,assignSchoolowner:o,getUser:r,addUser:i}}});
//# sourceMappingURL=3.b546ff8a.chunk.js.map