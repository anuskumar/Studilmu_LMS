webpackJsonp([6],{275:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),i=a.n(o),c=a(67),u=(a.n(c),a(12)),d=a(66),m=a(322),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=d.a.getUser();return a.state={lognUser:n,fullname:"",usertype:"S",email:"",parentid:"",subparentid:"",isactive:"",password:"",repassword:"",ownerid:"",instructorid:"",ownerrows:[],instructorows:[],visible:!1,msg:"",rows:[]},a.handleChange=a.handleChange.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.toggleSuccess=a.toggleSuccess.bind(a),a.handleownerChange=a.handleownerChange.bind(a),a.handleinstrotrChange=a.handleinstrotrChange.bind(a),a.filteruser=a.filteruser.bind(a),a.getstudent=a.getstudent.bind(a),a.handleEditClick=a.handleEditClick.bind(a),a.handleDeleteClick=a.handleDeleteClick.bind(a),a.getstudent(),m.a.getOwners().then(function(e){console.log(e),e.students&&a.setState({ownerrows:e.students})},function(e){console.log(e)}),a}return l(t,e),h(t,[{key:"getstudent",value:function(){var e=this;m.a.getStudents({schoolid:this.state.lognUser.schoolid,usertype:"S"}).then(function(t){console.log(t),t.ack?e.setState({rows:t.students,fullname:"",usertype:3,email:"",password:"",repassword:""}):e.setState({rows:[]})},function(e){console.log(e)})}},{key:"filteruser",value:function(e){var t=this;m.a.filterUser({ownerid:e,usertype:"S"}).then(function(e){console.log(e),e.ack?t.setState({rows:e.students}):t.setState({rows:[]})},function(e){console.log(e)})}},{key:"filterinstructor",value:function(e){var t=this;m.a.filterUser({ownerid:e,usertype:"I"}).then(function(e){console.log(e),e.ack?t.setState({instructorows:e.students}):t.setState({instructorows:[]})},function(e){console.log(e)})}},{key:"filterStudent",value:function(e){var t=this;m.a.filterStudent({instructurid:e,usertype:"S"}).then(function(e){console.log(e),e.ack?t.setState({rows:e.students}):t.setState({rows:[]})},function(e){console.log(e)})}},{key:"handleownerChange",value:function(e){this.setState(n({},e.target.name,e.target.value)),e.target.value?(this.filteruser(e.target.value),this.filterinstructor(e.target.value)):this.getstudent()}},{key:"handleinstrotrChange",value:function(e){console.log(e.target.value),this.setState(n({},e.target.name,e.target.value)),e.target.value?this.filterStudent(e.target.value):this.getstudent()}},{key:"handleChange",value:function(e){this.setState(n({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;return e.preventDefault(),this.state.fullname?this.state.email?this.state.password!=this.state.repassword?(this.showalert("Retype Password Not Matched"),1):this.state.password&&6!=this.state.password.length?(this.showalert("Password Must be Atleast Six Character"),1):(console.log(this.state),void m.a.register(this.state).then(function(e){console.log(e),e.ack?(t.toggleSuccess(),t.getstudent()):t.showalert("Email Already Existed")})):(this.showalert("Enter Email Address"),1):(this.showalert("Enter Fullname"),1)}},{key:"showalert",value:function(e){setTimeout(function(){this.setState({visible:!1,msg:""})}.bind(this),3e3),this.setState({visible:!0,msg:e})}},{key:"toggleSuccess",value:function(){this.setState({success:!this.state.success})}},{key:"handleEditClick",value:function(e){var t=this;console.log(this.state),1==this.state.isEdittogged?m.a.updateUser(this.state).then(function(e){console.log(e),e.ack&&(t.getstudent(),t.setState({isEdittogged:!1,fullname:"",id:"",usertype:"",email:"",isactive:"",exispassword:"",bio:""}))}):this.setState({isEdittogged:!0,fullname:e.name,id:e.id,usertype:e.user_type,email:e.email,isactive:e.is_active,exispassword:e.password,bio:e.userbio})}},{key:"handleDeleteClick",value:function(e){var t=this;console.log(e),m.a.deleteUser({userid:e}).then(function(e){console.log(e),e.ack&&t.getstudent()})}},{key:"render",value:function(){var e=this,t=this.state.isEdittogged?i.a.createElement(u.i,null,i.a.createElement(u.n,null,i.a.createElement("strong",null,"Edit Category")),i.a.createElement(u.j,null,i.a.createElement(u.v,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal"},i.a.createElement(u.w,{row:!0},i.a.createElement(u.p,{md:"3"},i.a.createElement(u.C,{htmlFor:"text-input"},"Full Name")),i.a.createElement(u.p,{xs:"12",md:"9"},i.a.createElement(u.y,{type:"text",name:"fullname",value:this.state.fullname,onChange:this.handleChange,id:"text-input",placeholder:"e.g. 'User Full Name'"}))),i.a.createElement(u.w,{row:!0},i.a.createElement(u.p,{md:"3"},i.a.createElement(u.C,{htmlFor:"text-input"},"Email Address")),i.a.createElement(u.p,{xs:"12",md:"9"},i.a.createElement(u.y,{type:"text",name:"email",value:this.state.email,onChange:this.handleChange,id:"text-input",placeholder:"e.g. 'User Email Address'"}))),i.a.createElement(u.w,{row:!0},i.a.createElement(u.p,{md:"3"},i.a.createElement(u.C,{htmlFor:"text-input"},"Password")),i.a.createElement(u.p,{xs:"12",md:"9"},i.a.createElement(u.y,{type:"text",name:"newpassword",value:this.state.newpassword,onChange:this.handleChange,id:"text-input",placeholder:"Blank to leave unchanged"}))),i.a.createElement(u.w,{row:!0},i.a.createElement(u.p,{md:"3"},i.a.createElement(u.C,{htmlFor:"select"},"User Role")),i.a.createElement(u.p,{xs:"12",md:"9"},i.a.createElement(u.y,{type:"select",id:"usertype",name:"usertype",onChange:this.handleChange,value:this.state.usertype},i.a.createElement("option",{value:"",disabled:!0},"Please Select"),i.a.createElement("option",{value:"C"},"Owner"),i.a.createElement("option",{value:"I"},"Instructor"),i.a.createElement("option",{value:"S"},"Student")))),i.a.createElement(u.w,{row:!0},i.a.createElement(u.p,{md:"3"},i.a.createElement(u.C,{htmlFor:"select"},"Status")),i.a.createElement(u.p,{xs:"12",md:"9"},i.a.createElement(u.y,{type:"select",id:"isactive",name:"isactive",onChange:this.handleChange,value:this.state.isactive},i.a.createElement("option",{value:"",disabled:!0},"Please Select"),i.a.createElement("option",{value:"1"},"Active"),i.a.createElement("option",{value:"0"},"Inactive")))))),i.a.createElement(u.l,null,i.a.createElement(u.e,{type:"submit",size:"sm",color:"primary",onClick:this.handleEditClick},i.a.createElement("i",{className:"fa fa-dot-circle-o"})," Update"))):i.a.createElement(u.N,null,i.a.createElement(u.p,{xs:"12",md:"12"},i.a.createElement(u.i,null,i.a.createElement(u.n,null,i.a.createElement(u.w,{row:!0},i.a.createElement(u.p,{md:"2"},i.a.createElement("i",{className:"fa fa-align-justify"}),i.a.createElement("strong",null,"  Students")),i.a.createElement(u.p,{xs:"12",md:"4"},i.a.createElement(u.y,{type:"select",name:"ownerid",onChange:this.handleownerChange,value:this.state.ownerid},i.a.createElement("option",{value:""},"Select Owner"),this.state.ownerrows.map(function(e,t){return i.a.createElement("option",{value:e.id,key:t},e.name)}))),i.a.createElement(u.p,{xs:"12",md:"4"},i.a.createElement(u.y,{type:"select",name:"instructorid",onChange:this.handleinstrotrChange,value:this.state.instructorid},i.a.createElement("option",{value:""},"Select Instructor"),this.state.instructorows.map(function(e,t){return i.a.createElement("option",{value:e.id,key:t},e.name)}))),i.a.createElement(u.p,{xs:"12",md:"2"},i.a.createElement("div",{className:"card-header-actions"},i.a.createElement("button",{"aria-pressed":"true",className:"btn btn-success btn-block active",onClick:this.toggleSuccess},"Add Students"))))),i.a.createElement(u.j,null,i.a.createElement(u.Q,{responsive:!0,striped:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Email"),i.a.createElement("th",null,"Last Login"),i.a.createElement("th",null,"Join Date"),i.a.createElement("th",null,"Status"),i.a.createElement("th",null,"Action"))),i.a.createElement("tbody",null,this.state.rows.map(function(t,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,t.name),i.a.createElement("td",null,t.email),i.a.createElement("td",null,t.joindate),i.a.createElement("td",null,t.join),i.a.createElement("td",null,1==e.state.rows[a].is_active?i.a.createElement(u.b,{color:"success"},"Active"):i.a.createElement(u.b,{color:"danger"},"Inactive")),i.a.createElement("td",null,i.a.createElement(u.e,{color:"primary",size:"sm",onClick:function(){return e.handleEditClick(t)}},i.a.createElement("i",{className:"fa fa-pencil"})),i.a.createElement(u.e,{color:"danger",size:"sm",onClick:function(){return e.handleDeleteClick(t.id)}},i.a.createElement("i",{className:"fa fa-trash-o"}))))}))),i.a.createElement(u.F,{isOpen:this.state.success,toggle:this.toggleSuccess,className:"modal-success "+this.props.className},i.a.createElement(u.I,{toggle:this.toggleSuccess},"Add Students"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(u.G,null,i.a.createElement(u.a,{color:"danger",isOpen:this.state.visible},this.state.msg),i.a.createElement("p",{className:"text-muted"},"If no password is given, students will receive an email to confirm their account and set a password."),i.a.createElement(u.z,{className:"mb-3"},i.a.createElement(u.y,{type:"select",name:"parentid",onChange:this.handleownerChange,value:this.state.parentid},i.a.createElement("option",{value:""},"Please Select Owner"),this.state.ownerrows.map(function(e,t){return i.a.createElement("option",{value:e.id,key:t},e.name)}))),i.a.createElement(u.z,{className:"mb-3"},i.a.createElement(u.y,{type:"select",name:"subparentid",onChange:this.handleChange,value:this.state.subparentid},i.a.createElement("option",{value:""},"Please Select Instructor"),this.state.instructorows.map(function(e,t){return i.a.createElement("option",{value:e.id,key:t},e.name)}))),i.a.createElement(u.z,{className:"mb-3"},i.a.createElement(u.A,{addonType:"prepend"},i.a.createElement(u.B,null,i.a.createElement("i",{className:"icon-user"}))),i.a.createElement(u.y,{type:"text",placeholder:"Full Name",name:"fullname",value:this.state.fullname,onChange:this.handleChange})),i.a.createElement(u.z,{className:"mb-3"},i.a.createElement(u.A,{addonType:"prepend"},i.a.createElement(u.B,null,"@")),i.a.createElement(u.y,{type:"text",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange})),i.a.createElement(u.z,{className:"mb-3"},i.a.createElement(u.A,{addonType:"prepend"},i.a.createElement(u.B,null,i.a.createElement("i",{className:"icon-lock"}))),i.a.createElement(u.y,{type:"password",placeholder:"Password (optional)",name:"password",value:this.state.password,onChange:this.handleChange})),i.a.createElement(u.z,{className:"mb-4"},i.a.createElement(u.A,{addonType:"prepend"},i.a.createElement(u.B,null,i.a.createElement("i",{className:"icon-lock"}))),i.a.createElement(u.y,{type:"password",placeholder:"Repeat password (optional)",name:"repassword",value:this.state.repassword,onChange:this.handleChange}))),i.a.createElement(u.H,null,i.a.createElement(u.e,{color:"success",type:"submit"},"Add")," ",i.a.createElement(u.e,{color:"secondary",onClick:this.toggleSuccess},"Cancel"))))))));return i.a.createElement("div",{className:"animated fadeIn"},t)}}]),t}(o.Component);t.default=p},322:function(e,t,a){"use strict";function n(e){return console.log(e),g.a.post(E+"/getStudents",{usertype:"S"}).then(function(e){return e.data}).catch(function(e){return e})}function r(e){return g.a.post(E+"/getInstructor",{usertype:"I"}).then(function(e){return e.data}).catch(function(e){return e})}function s(e){return g.a.post(E+"/getOwners",{usertype:"C"}).then(function(e){return e.data}).catch(function(e){return e})}function l(e){return g.a.post(E+"/filterUser",e).then(function(e){return e.data}).catch(function(e){return e})}function o(e){return g.a.post(E+"/filterStudent",e).then(function(e){return e.data}).catch(function(e){return e})}function i(e){return g.a.post(E+"/getUser",e).then(function(e){return e.data}).catch(function(e){return e})}function c(e){return g.a.post(E+"/register",e).then(function(e){return e.data}).catch(function(e){return e})}function u(e){return g.a.post(E+"/asigneSchool",e).then(function(e){return e.data}).catch(function(e){return e})}function d(e){return g.a.post(E+"/asigneSchoolowner",e).then(function(e){return e.data}).catch(function(e){return e})}function m(e){return g.a.post(E+"/addUser",e).then(function(e){return e.data}).catch(function(e){return e})}function h(e){return g.a.post(E+"/updateUser",e).then(function(e){return e.data}).catch(function(e){return e})}function p(e){return g.a.post(E+"/deleteUser",e).then(function(e){return e.data}).catch(function(e){return e})}var f=(a(114),a(26)),g=a.n(f),E="http://13.251.15.73:8080";t.a={getStudents:n,register:c,assignSchool:u,getOwners:s,assignSchoolowner:d,getUser:i,addUser:m,getInstructor:r,filterUser:l,updateUser:h,deleteUser:p,filterStudent:o}}});
//# sourceMappingURL=6.08e22736.chunk.js.map